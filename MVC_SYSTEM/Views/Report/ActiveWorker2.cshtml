
@{
    ViewBag.Title = "ActiveWorker2";
    Layout = "~/Views/Shared/_LayoutMain.cshtml";
}

<section class="content-wrapper main-content clear-fix">
    <div class="well bottom" style="padding-bottom: 16px">
        <div class="row">
            <div class="col-sm-2">
                @Html.Label(GlobalResActiveWorker.lblYear)
                @Html.DropDownList("YearList", null, htmlAttributes: new { @class = "form-control" })
            </div>
            <div class="col-sm-3">
                @Html.Label(GlobalResActiveWorker.lblWilayah)
                @Html.DropDownList("WilayahIDList", null, htmlAttributes: new { @class = "form-control" })
            </div>
            <div class="col-sm-3">
                @Html.Label(GlobalResActiveWorker.lblLadang)
                @Html.DropDownList("LadangIDList", null, htmlAttributes: new { @class = "form-control" })
            </div>
            <div class="col-sm-2">
                @Html.Label(GlobalResActiveWorker.lblStatus)
                @Html.DropDownList("Status", null, htmlAttributes: new { @class = "form-control" })
            </div>
            <div class="col-sm-2" style="padding-top:25px;">
                <input class="btn btn-primary btn-block" type="submit" name="Lihat" id="Lihat" value="@GlobalResActiveWorker.btnViewName" />
            </div>
        </div>
    </div>
    <div class="row" id="divReport"></div>
</section>
<script>
    $(function () {
        $('#Lihat').click(function () {

            var NegaraID = 1;
            var SyarikatID = 1;
            var WilayahID = $("#WilayahIDList").val();
            var LadangID = $("#LadangIDList").val();
            var Status = $("#Status").val();
            var UserID = 1;

            //ASPX page URL to load report
            var src = 'Reports/ActiveworkerReport.aspx?';
            //We can add parameters here
            src = src + "NegaraID=" + NegaraID + "&SyarikatID=" + SyarikatID + "&WilayahID=" + WilayahID + "&LadangID=" + LadangID + "&Status=" + Status + "&UserID=" + UserID

            alert(src);
            console.log(src);
            //We can append more than one parameter like below
            //var companyId = 1
            //src = src + "compnayID=" + companyId

            //Create a dynamic iframe here and append this to div tag
            var iframe = '<iframe id="reportFrame" width="100%" height="800px" scrolling="no" frameborder="0" src="' + src + '" allowfullscreen></iframe>';
            $("#divReport").html(iframe);
        });
    });

</script>  